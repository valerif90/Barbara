{"version":3,"sources":["components/Navbar/Navbar.module.css","components/Common/Preloader/preloader.gif","components/Dialogs/Message/Message.module.css","components/Settings/Settings.module.css","serviceWorker.js","redux/sidebar_reducer.js","api/api.js","redux/profile_reducer.js","redux/dialogs_reducer.js","redux/users_reducer.js","redux/auth_reducer.js","redux/redux_store.js","validators/validators.js","components/Registration/Registration.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/Common/Preloader/Preloader.js","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Common/FormsControls/FormsControls.js","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Settings/Settings.jsx","components/Friends/Friends.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/User/User.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","components/Common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","components/Home/Home.jsx","App.js","index.js","components/Common/FormsControls/FormsControls.module.css","components/Header/Header.module.css","components/Dialogs/Dialogs.module.css","components/Users/Users.module.css","App.module.css","components/Dialogs/User/User.module.css","components/Common/Paginator/Paginator.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","initialState","sidebarReducer","state","instance","axios","create","baseURL","responseType","usersAPI","getUsers","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","email","password","rememberMe","posts","id","message","likesCount","profile","setStatus","type","profileReducer","action","newPost","newPostText","dialogs","name","avatar","messages","dialogsReducer","body","newMessageBody","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","usersReducer","map","user","followed","filter","login","isAuth","setAuthUserData","payload","authReducer","reducers","combineReducers","profilePage","dialogsPage","sidebar","usersPage","auth","form","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","maxLength","Registration","props","placeholder","onClick","postUser","Header","className","styles","header","src","height","div","loginBlock","logout","to","HeaderContainer","this","React","Component","connect","getAuthUserData","resultCode","Navbar","nav","item","activeClassName","active","Preloader","preloader","ProfileStatusWithHooks","useState","editMode","setEditMode","useEffect","onChange","e","currentTarget","value","autoFocus","onBlur","ProfileInfo","background","photoUrl","Post","required","Textarea","input","meta","hasError","touched","error","formControl","Input","maxLength10","length","MyPosts","memo","postsElements","p","createRef","AddNewPostFormRedux","onSubmit","values","addPost","reduxForm","handleSubmit","Field","component","validate","MyPostsContainer","addPostActionCreator","Profile","ProfileContainer","params","authorizedUserId","getUserProfile","WithUrlDataContainerComponent","withRouter","Settings","Friends","Message","User","dialog","AddMessageFormRedux","Dialogs","dialogsElements","d","messagesElements","m","dialogsItems","sendMessage","sendMessageCreator","Paginator","pagesCount","Math","ceil","pages","i","push","selectedPages","onPageChanged","Users","container","key","userPhoto","alt","disabled","some","fullName","getUsersSuperSelector","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","bind","page","LoginReduxForm","formSummaryError","_id","stopSubmit","_error","formData","Home","width","App","wallpaper","path","render","exact","DialogsContainer","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.d93420bd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"active\":\"Navbar_active__3mbhk\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.cd2b8065.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Message_content__1vTbk\",\"dialogs\":\"Message_dialogs__2BZUu\",\"dialogsItems\":\"Message_dialogsItems__3BxQb\",\"active\":\"Message_active__3KMb1\",\"messages\":\"Message_messages__11r0A\",\"message\":\"Message_message__1MOXo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Settings_content__3FxpE\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n};\r\n\r\nexport default sidebarReducer;","import axios from 'axios';\n\n\nconst instance = axios.create({\n    //withCredentials: true\n    baseURL: 'http://localhost:4000/',\n    responseType: \"json\"\n});\n\n\nexport const userPost = {\n    postUser () {\n        return instance.post(`users`, {\n            fullName : \"Percha\",\n            \"photoUrl\": \"https://www.thesun.co.uk/wp-content/uploads/2019/10/NINTCHDBPICT000528842728.jpg\"})\n            .then(function (response) {\n                console.log(response);\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n    }\n};\n\n\n\nexport const usersAPI = {\n    getUsers()  {\n        return instance.get(`users`)\n        .then(response => {\n            return response.data\n        });\n     },\n     follow(userId) {\n        return instance.post(`follow?page=${userId}`)\n     },\n     unfollow(userId) {\n        return instance.delete(`follow?page=${userId}`)\n    },\n    getProfile(userId) {\n        console.warn('Obsilete method. Please use profileAPI object');\n        return profileAPI.getProfile(userId);\n            \n    }\n\n}\n\nexport const profileAPI = {\n    getProfile(userId) {\n        return instance.get(`users` + userId);\n    },\n    getStatus(userId) {\n        return instance.get(`profile` + userId);\n    },\n    updateStatus(status) {\n        return instance.put(`profile/status`, { status: status });\n    }\n}\n\nexport const authAPI = {\n    me() {\n        return instance.get(`auth/me`);\n    },\n    login(email, password, rememberMe = false) {\n        return instance.post(`auth/login`, { email, password, rememberMe });\n    },\n    logout() {\n        return instance.delete(`auth/login`);\n    }\n}\n\n\n\n","import {profileAPI, usersAPI} from '../api/api';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: '1', message: 'Hi', likesCount: '15'},\r\n        {id: '2', message: 'Hello', likesCount: '20'},\r\n        {id: '3', message: 'Yo', likesCount: '20'},\r\n        {id: '4', message: 'Moove', likesCount: '20'}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n        case SET_USER_PROFILE : {\r\n            return {\r\n                ...state, \r\n                profile: action.profile\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\n\r\nexport const getUserProfile = (userId) => (dispatch) => {\r\n    usersAPI.getProfile(userId)\r\n            .then(response => {   \r\n            dispatch(setUserProfile(response.data));\r\n            })\r\n}\r\nexport const getStatus = (userId) => (dispatch) => {\r\n    profileAPI.getStatus(userId)\r\n            .then(response => {\r\n            dispatch(setStatus(response.data));\r\n            })\r\n}\r\nexport const updateStatus = (status) => (dispatch) => {\r\n    profileAPI.updateStatus(status)\r\n            .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(setStatus(status));\r\n                }\r\n            })\r\n}\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {\r\n            id: '1',\r\n            name: 'Nastya',\r\n            avatar: ''\r\n        },\r\n        {id: '2', name: 'Vika', avatar: 1},\r\n        {id: '3', name: 'Sveta', avatar: 2}\r\n    ],\r\n    messages: [\r\n        {id: '1', message: 'Hi'},\r\n        {id: '2', message: 'Hello'},\r\n        {id: '3', message: 'How are you'}\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return  {\r\n                ...state,\r\n                messages: [...state.messages, {id: 4, message: body}]\r\n            };\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});\r\nexport default dialogsReducer;","import {usersAPI} from '../api/api';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 3,\r\n    totalUsersCount: 40,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(user => {\r\n                    if (user.id === action.userId) {\r\n                        return {...user, followed: true}\r\n                    }\r\n                    return user;\r\n                })\r\n            };\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(user => {\r\n                    if (user.id === action.userId) {\r\n                        return {...user, followed: false}\r\n                    }\r\n                    return user;\r\n                })\r\n            };\r\n\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: [...state.users, ...action.users]\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching \r\n                ? [...state.followingInProgress, action.userId]\r\n                : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage:currentPage });\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId });\r\n\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));    \r\n        dispatch(setUsers(data.users))\r\n    }\r\n}\r\n\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod (userId);\r\n\r\n    if (response.data.userId) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.follow.bind(usersAPI);\r\n        await followUnfollowFlow(dispatch, userId, apiMethod, followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.unfollow.bind(usersAPI);\r\n        await followUnfollowFlow(dispatch, userId, apiMethod, unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import {authAPI} from '../api/api';\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA, payload: {userId, email, login, isAuth} });\r\n\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me()\r\n\r\n        if (response.data.resultCode === 0) {\r\n            let {_id, login, email} = response.data.data;\r\n            dispatch(setAuthUserData(_id, login, email, true));\r\n        }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => (dispatch) => {\r\n    authAPI.login(email, password, rememberMe)\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(getAuthUserData())\r\n            } else {\r\n                let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n                dispatch(stopSubmit('login', {_error: message}));\r\n            }\r\n        })\r\n}\r\n\r\nexport const logout = () => (dispatch) => {\r\n    authAPI.logout()\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setAuthUserData(null, null, null, false));\r\n            }\r\n        })\r\n}\r\n\r\nexport default authReducer;","import {applyMiddleware, combineReducers, compose, createStore} from 'redux';\r\nimport sidebarReducer from './sidebar_reducer';\r\nimport profileReducer from './profile_reducer';\r\nimport dialogsReducer from './dialogs_reducer';\r\nimport usersReducer from './users_reducer';\r\nimport authReducer from './auth_reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow.__store__ = store;\r\n\r\nexport default store;","export const required = value => {\n    if (value) return  undefined;\n    return 'Field is required';\n}\n\nexport const maxLengthCreator = (maxLength) => value => {\n    if (value && value.length > maxLength) return `Error: max length is ${maxLength} symbols!`;\n    return undefined;\n}","import React from \"react\";\n\n\n\n\n            // <div>\n            //     <Field placeholder={'password'} name={'password'} type={'password'}\n            //            validate={[required]}\n            //            component={Input}/>\n            // </div>\n            // <div>\n            //     <Field  name={'rememberMe'} type={'checkbox'} component={Input}/> remember me\n            // </div>\n            // {error && <div className={styles.formSummaryError}>\n            //     {error}\n            // </div>}\n            // <div>\n            //     <button>Registration</button>\n            // </div>\n\n\n\nconst Registration = (props) => {\n    return (\n        <div>\n            <form action=\"\">\n                <input type=\"text\" placeholder={'email'} name={'email'}/>\n                <input type=\"password\" placeholder={'password'} name={'password'}/>\n                <input type=\"text\" placeholder={'name'} name={'name'}/>\n                <button onClick={props.postUser}>Registration</button>\n            </form>\n\n        </div>\n    )\n}\n\nexport default Registration;","import React from \"react\";\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './Header.module.css';\r\nimport Registration from \"../Registration/Registration\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={styles.header}>\r\n            <img src=\"https://prestonvill.ru/common/uploads/images/Post/barbara-palvin-yarkij-natural-soft-drama-victoria-s-secret-barbara-palvin-tipazh-kibbi-top-model-podium-stil-yarkogo-naturala-obrazy%2041.jpg\" height={100}/>\r\n            <div className={styles.div}>Barbara's Sayt</div>\r\n            <div className={styles.loginBlock}>\r\n                {props.isAuth ?\r\n                    <div>{props.login} - <button onClick={props.logout}>Logout</button></div>\r\n                : <NavLink to={'/login'}>LOGIN</NavLink> }\r\n            </div>\r\n            <NavLink to={'/registration'}>REGISTRATION</NavLink> }\r\n        </header>\r\n    )\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\nimport {connect} from 'react-redux';\r\nimport getAuthUserData, {logout} from '../../redux/auth_reducer';\r\nimport {authAPI} from '../../api/api';\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render () {\r\n    return <Header {...this.props} />\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth, \r\n    login: state.auth.login,\r\n});\r\n\r\nexport default connect (mapStateToProps, {getAuthUserData, logout}) (HeaderContainer);","import React from \"react\";\r\nimport styles from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={styles.nav}>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/\" activeClassName={styles.active}>Home</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/profile\" activeClassName={styles.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/user\" activeClassName={styles.active}>User</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/users\" activeClassName={styles.active}>Users</NavLink>\r\n            </div>\r\n            <div className={`${styles.item} ${styles.active}`}>\r\n                <NavLink to=\"/dialogs\" activeClassName={styles.active}>Dialogs</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/settings\" activeClassName={styles.active}>Settings</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to=\"/friends\" activeClassName={styles.active}>Friends</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react'\nimport preloader from './preloader.gif'\n\nlet Preloader = () => {\n    return <div>\n        <img src={preloader}/>\n    </div>\n}\n\nexport default Preloader","import React, {useEffect, useState} from \"react\";\r\nimport Preloader from '../../Common/Preloader/Preloader'\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        // this.props.updateStatus(this.state.status);\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n        return (\r\n            <div>\r\n                { !editMode &&\r\n                    <div>\r\n                        <span onClick={ activateEditMode }>{props.status || '---'}</span>\r\n                    </div>\r\n                }\r\n                { editMode &&\r\n                    <div>\r\n                        <input onChange={onStatusChange} autoFocus={true} onBlur={ deactivateEditMode }\r\n                               value={status}/>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport styles from './ProfileInfo.module.css'\r\nimport Preloader from '../../Common/Preloader/Preloader'\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n    if (!props.profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    return(\r\n        <div className={styles.background}>\r\n    \r\n        <div>\r\n            <img src={props.profile.photoUrl} />\r\n            <ProfileStatusWithHooks status={'Hello!!!'}/>\r\n            // status=props.status updateStatus=props.updateStatus\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import React from \"react\";\r\nimport styles from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n        return (\r\n        <article>\r\n            <div className='item'>{props.message}, {props.likesCount}</div>\r\n            <span>likes</span>\r\n        </article>\r\n    )\r\n};\r\n\r\nexport default Post;\r\n","import React from \"react\";\nimport styles from './FormsControls.module.css';\n\nexport const Textarea = ({input, meta, ...props}) => {\n\n    const hasError = meta.touched && meta.error;\n\n    return (\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : ' ')}>\n            <div>\n            <textarea {...input} {...props} />\n            </div>\n            { hasError && <span>{meta.error}</span>}\n        </div>\n    )\n}\n\nexport const Input = ({input, meta, ...props}) => {\n\n    const hasError = meta.touched && meta.error;\n\n    return (\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : ' ')}>\n            <div>\n                <input {...input} {...props} />\n            </div>\n            { hasError && <span>{meta.error}</span>}\n        </div>\n    )\n}","import React from \"react\";\r\nimport styles from './MyPosts.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../validators/validators\";\r\nimport {Textarea} from \"../../Common/FormsControls/FormsControls\";\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst MyPosts = React.memo((props) => {\r\n\r\n    let postsElements = props.posts.map(p => <Post message={p.message} likesCount={p.likesCount}/>);\r\n\r\n    let newPostElement = React.createRef();\r\n\r\n    let onAddPost = (values) => {\r\n        props.addPost(values.newPostText);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h3>New post</h3>\r\n        <AddNewPostFormRedux onSubmit={onAddPost}/>\r\n    <div className={styles.posts}>\r\n        {postsElements}\r\n    </div>\r\n        </div>\r\n    )\r\n});\r\n\r\nconst AddNewPostForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field name={'newPostText'} component={Textarea} placeholder={'Post you message'}\r\n                       validate={[required, maxLength10]}/>\r\n            </div>\r\n            <div>\r\n                <div>\r\n                    <button>Add post</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm({form: 'addNewPostForm'}) (AddNewPostForm)\r\n\r\nexport default MyPosts;\r\n","import React from \"react\";\r\nimport {addPostActionCreator} from \"../../../redux/profile_reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            dispatch(addPostActionCreator(newPostText));\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React from \"react\";\r\nimport styles from './Profile.module.css'\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport {updateStatus} from \"../../redux/profile_reducer\";\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\nimport Profile from './Profile'\nimport {connect} from 'react-redux'\nimport {getStatus, getUserProfile, updateStatus} from '../../redux/profile_reducer'\nimport { withRouter } from \"react-router-dom\";\n\nclass ProfileContainer extends React.Component {\n\n    componentDidMount () {\n        let userId = this.props.match.params.userId;\n        if (!userId) {\n            userId = this.props.authorizedUserId;\n        }\n        this.props.getUserProfile(userId);\n        this.props.getStatus(userId);\n    }\n\n    render () {\n    return (\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status}\n                     updateStatus={this.props.updateStatus} />\n        )\n    }\n}\n\nlet AuthRedirectComponent = (props) => {\n    return <ProfileContainer {...props} />\n}\n\nlet mapStateToProps = (state) => ({\n    profile: state.profilePage.profile,\n    status:state.profilePage.status,\n    authorizedUserId: state.auth.userId,\n    isAuth: state.auth.isAuth\n});\n\nlet WithUrlDataContainerComponent = withRouter (AuthRedirectComponent);\n\nexport default connect (mapStateToProps, {getUserProfile, getStatus, updateStatus}) (WithUrlDataContainerComponent);","import React from \"react\";\r\nimport styles from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n    return(\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport styles from './Friends.module.css'\r\n\r\nconst Friends = (props) => {\r\n    return (\r\n        <div>\r\n            Friends\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Friends;","import React from \"react\";\r\nimport styles from './Message.module.css';\r\n\r\nconst Message = (props) => {\r\n    return(\r\n        <div className={styles.message}>{props.message}</div>\r\n    )\r\n}\r\n\r\nexport default Message;","import React from \"react\";\r\nimport styles from './User.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = (props) => {\r\n    return (\r\n        <div className={styles.dialog + ' ' + styles.active}>\r\n            <NavLink to={'/dialogs/' + props.id}>{props.avatar} {props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport styles from './Dialogs.module.css';\r\nimport Message from \"./Message/Message\";\r\nimport User from \"./User/User\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\n\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let state = props.dialogsPage;\r\n\r\n    let dialogsElements = state.dialogs.map(d => <User name={d.name} id={d.id} avatar={d.avatar} />);\r\n    let messagesElements = state.messages.map(m => <Message message={m.message} />);\r\n    let newMessageBody = state.newMessageBody;\r\n\r\n    let addNewMessage = (values) => {\r\n        props.sendMessage(values.newMessageBody);\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={styles.dialogs}>\r\n            <div className={styles.dialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={styles.messages}>\r\n                <div>{messagesElements}</div>\r\n                    <AddMessageFormRedux onSubmit={addNewMessage} />\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n    <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field component={'textarea'} name={'newMessageBody'} placeholder={'enter message'}/>\r\n        </div>\r\n        <div>\r\n            <button>Add dialog</button>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form: 'dialogAddMessageForm'}) (AddMessageForm);\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {sendMessageCreator} from '../../redux/dialogs_reducer';\r\nimport Dialogs from './Dialogs';\r\nimport {connect} from 'react-redux';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport {compose} from \"redux\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageBody) => {\r\n        dispatch(sendMessageCreator(newMessageBody));\r\n        }\r\n    }\r\n};\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    // withAuthRedirect\r\n)(Dialogs);","import React from \"react\";\nimport styles from './Paginator.module.css';\n\nconst Paginator = (props) => {\n\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\n\n    let pages = [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n        \n\n    return <div className={styles.pages}>\n            {pages.map(p => {\n                return <span className={props.currentPage === p && styles.selectedPages}\n                        onClick={() => {props.onPageChanged(p)}}>{p}</span>\n                    })}\n        </div>\n    }\n\nexport default Paginator;","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport styles from './Users.module.css';\nimport Paginator from \"../Common/Paginator/Paginator\";\n\nlet Users = (props) => {\n    return (\n            <div className={styles.container}>\n                <Paginator currentPage={props.currentPage} onPageChanged={props.onPageChanged}\n                           totalUsersCount={props.totalUsersCount} pageSize={props.pageSize} />\n                {\n                    props.users.map(user => <div key={user.id}>\n                        <div className={styles.container}>\n                    <span>\n                        <div>\n                            <NavLink to={'/profile/' + user.id}>\n                            <img src={user.photoUrl !== \" \" ? user.photoUrl : \"https://i.pinimg.com/originals/76/47/9d/76479dd91dc55c2768ddccfc30a4fbf5.png\"}\n                                className={styles.userPhoto} alt=\"\"/>\n                            </NavLink>\n                        </div>\n                        <div>\n                            {user.followed\n                                ? <button disabled={props.followingInProgress\n                                    .some(id => id === user.id)}\n                                     onClick={() => {props.unfollow(user.id) }}>unfollow</button>\n\n                                : <button disabled={props.followingInProgress.some(id => id === user.id)}\n\n                                    onClick={() => {props.follow(user.id) }}>follow</button>}\n                        </div>\n                    </span>\n                            <span>\n                        <span>\n                            <div>{user.fullName}</div>\n                        </span>\n                        <span>\n                            <div>{user.id}</div>\n                        </span>\n                    </span>\n                        </div>\n                    </div>)\n                }\n            </div>\n        )\n    }\n\nexport default Users","import {createSelector} from \"reselect\";\n\nexport const getUsers = (state) => {\n    return state.usersPage.users;\n}\n\nexport const getUsersSelector = (state) => {\n    return getUsers(state).filter(users => true);\n}\n\nexport const getUsersSuperSelector = createSelector(getUsers, (users) => {\n    return users.filter(users => true);\n})\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize;\n}\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount;\n}\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage;\n}\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching;\n}\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress;\n}\n\n","import React from 'react';\r\nimport Users from './Users';\r\nimport {connect} from 'react-redux';\r\nimport {follow, setCurrentPage, unfollow, toggleFollowingProgress, requestUsers} from '../../redux/users_reducer';\r\nimport Preloader from '../Common/Preloader/Preloader'\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsersSuperSelector\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.requestUsers(pageNumber, this.props.pageSize);\r\n    }\r\n    render() { \r\n        \r\n        return <> {this.props.isFetching ? <Preloader /> : null}\r\n        <Users totalUsersCount={this.props.totalUsersCount} \r\n                      pageSize={this.props.pageSize}\r\n                      currentPage={this.props.currentPage}\r\n                      onPageChanged={this.onPageChanged}\r\n                      users={this.props.users}\r\n                      follow={this.props.follow}\r\n                      unfollow={this.props.unfollow}\r\n                      followingInProgress={this.props.followingInProgress} /> </>\r\n        }\r\n            \r\n    }\r\n\r\n// let mapStateToProps = (state) => {\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress\r\n//     }\r\n// };\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersSuperSelector(state),\r\n        // users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n};\r\n\r\n\r\nexport default connect (mapStateToProps, {follow, unfollow, setCurrentPage, \r\n     toggleFollowingProgress, requestUsers}) (UsersContainer);","import React from \"react\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {Input} from \"../Common/FormsControls/FormsControls\";\nimport {required} from \"../../validators/validators\";\nimport {connect} from \"react-redux\";\nimport {login} from '../../redux/auth_reducer';\nimport Redirect from \"react-router-dom\";\nimport styles from '../Common/FormsControls/FormsControls.module.css'\n\n\nconst LoginForm = ({handleSubmit, error}) => {\n    return (\n            <form onSubmit={handleSubmit}>\n                <div>\n                    <Field placeholder={'email'} name={'email'}\n                           validate={[required]}\n                           component={Input}/>\n                </div>\n                <div>\n                    <Field placeholder={'password'} name={'password'} type={'password'}\n                           validate={[required]}\n                           component={Input}/>\n                </div>\n                <div>\n                    <Field  name={'rememberMe'} type={'checkbox'} component={Input}/> remember me\n                </div>\n                {error && <div className={styles.formSummaryError}>\n                    {error}\n                </div>}\n                <div>\n                    <button>login</button>\n                </div>\n            </form>\n    )\n}\n\nconst LoginReduxForm = reduxForm ({ form: 'login' } )(LoginForm)\n\nconst Login = (props) => {\n    const onSubmit = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe);\n    }\n\n    // if (props.isAuth) {\n    //     return <Redirect to={'/profile'}/>\n    // }\n\n    return (\n        <div>\n            <h1>LOGIN</h1>\n            <LoginReduxForm onSubmit={onSubmit}/>\n        </div>\n    )\n}\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth\n})\nexport default connect(mapStateToProps, {login}) (Login);","import React from \"react\";\r\nimport styles from './Home.module.css'\r\n\r\nconst Home = (props) => {\r\n    return (\r\n        <div>\r\n             <img src=\"https://i.gifer.com/APw5.gif\" width={500}/>\r\n             <h3>Welcome!</h3>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Home;","import React from 'react';\nimport styles from './App.module.css';\nimport {Route} from 'react-router-dom';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Navbar from './components/Navbar/Navbar';\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport Settings from './components/Settings/Settings';\nimport Friends from './components/Friends/Friends';\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\nimport UsersContainer from './components/Users/UsersContainer';\nimport Login from \"./components/Login/Login\";\nimport {authAPI} from \"./api/api\";\nimport Home from './components/Home/Home';\nimport Registration from \"./components/Registration/Registration\";\n\n\n\nclass App extends React.Component {\n\n\n    // componentDidMount () {\n    //     authAPI.me()\n    //         .then(response => {\n    //             if (response.data.resultCode === 0) {\n    //                 let {id, login, email} = response.data.data;\n    //                 this.props.setAuthUserData(id, email, login);\n    //             }\n    //         })\n    //     // this.props.getAuthUserData();\n    // }\n\n\n    render() {\n\n    return (\n            <div>\n                <img className={styles.wallpaper} src='https://i.pinimg.com/originals/7b/13/7a/7b137a04428d38f110e32aa2cebd4791.jpg'/>\n                 <div className={styles.container}>\n                <HeaderContainer />\n                <section>\n                    <Navbar/>\n                    <div className='container_content'>\n                        <Route path='/profile/:userId?' render={ () => <ProfileContainer /> }/>\n                        <Route exact path='/dialogs' render={ () => <DialogsContainer /> }/>\n                        <Route path='/settings' component={Settings}/>\n                        <Route path='/friends' component={Friends}/>\n                        <Route path='/users' render={ () => <UsersContainer /> }/>\n                        <Route path='/login' render={ () => <Login /> }/>\n                        <Route path='/registration' render={ () => <Registration /> }/>\n                        <Route exact path='/' render={ () => <Home /> }/>\n                    </div>\n                </section>\n                </div>\n            </div>\n        )\n    }\n};\n\nexport default App;\n","import React from 'react';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport store from \"./redux/redux_store\";\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {HashRouter} from \"react-router-dom\";  //BrowserRouter   HashRouter  github\nimport {Provider} from \"react-redux\";\n\n\n    ReactDOM.render(\n        <HashRouter>\n            <Provider store={store}>\n            <App />\n            </Provider>\n        </HashRouter>,\n        document.getElementById('root'));\n\n//    HashRouter  BrowserRouter        basename={process.env.PUBLIC_URL}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__ajVyF\",\"error\":\"FormsControls_error__35B8G\",\"formSummaryError\":\"FormsControls_formSummaryError__3e7lO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"div\":\"Header_div__X5wUp\",\"loginBlock\":\"Header_loginBlock__6mma5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Dialogs_content__1VIii\",\"dialogs\":\"Dialogs_dialogs__2xRSA\",\"dialogsItems\":\"Dialogs_dialogsItems__2sNe2\",\"active\":\"Dialogs_active__2sQhs\",\"messages\":\"Dialogs_messages__1w_Up\",\"message\":\"Dialogs_message__1xIDh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__17MJB\",\"container\":\"Users_container__6F9oG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wallpaper\":\"App_wallpaper__32fiQ\",\"container\":\"App_container__1MQN3\",\"container_content\":\"App_container_content__3dOsD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"User_content__6_31B\",\"dialogs\":\"User_dialogs__2ssZV\",\"dialogsItems\":\"User_dialogsItems__2bkXD\",\"active\":\"User_active__2n5JZ\",\"messages\":\"User_messages__p4aMc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPages\":\"Paginator_selectedPages__2FcsM\",\"pages\":\"Paginator_pages__1-rF3\"};"],"sourceRoot":""}